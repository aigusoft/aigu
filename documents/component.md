# 组件规范

## 组件
- 一个组件以 __\<template\>__ 标签开始，以 __\</template\>__ 标签结束。
- 一个组件仅能有一个 __\<template\>__ 标签。

## 引入外部资源
- 标准支持 __EsImport__ 导入外部Js对象
- 支持 __AMD__ 模块
- 支持 __CommonJs__ 模块
- 支持立即表达式 __IIFE__ 模块

# 组件
一个标准组件为一个黑匣子，其仅对外部暴漏其行为和属性，不直接对外部暴露其内部实现细节，亦可以对外部暴漏其允许定制的样式部分，将由以下部分构成：
## 组件行为
组件行为确定了一个组件基本的对外表现，包括组件属性、可发送到外部的事件和可接收来自外部的事件。
### 组件属性
- 组件属性作为一个组件自身属性，可通过以下方式进行定义：
```html
<template a="abcd" b.int="123" c.bool="true" d.obj="{a:0,b:1}" :e="1+2+3" :f="b+e" .timer="b++">
    <div :>`a=${a}`</div>
    <div :>`b=${b}`</div>
    <div :>`c=${c}`</div>
    <div :>`d=${d}`</div>
    <div :>`e=${e}`</div>
    <div :>`f=${f}`</div>

    <button .click.stop="a=a+'*'" >点击 a +'*'</button>
</template>
```
- 上述外部属性中，a,b,c,d 为普通属性，后缀可使用 __'.'__ 进行组件类型修饰，其代表当使用属性时，由于标准HTML中标准的属性定义仅支持字符串，当使用字符串传入此数据对象，会自动将字符串解析为对应的类型。初始化默认参数也将同样配置。
- 以 __':'__ 开头的属性为计算属性，其值为标准JS表达式，可引用其他组件根作用域中的其他属性，自动处理依赖计算关系。
- 以 __'.'__ 开头的属性为事件属性，其值为标准JS语句，在当前作用域中的所有属性均可用，无需引用。

### 组件对外发送的事件
- 每个组件均可以向外部发送冒泡事件，此事件在组件内部使用 __'$emit(eventName,data)'__ 方法进行发送，在组件外部使用标准事件接收语法进行接收。

### 组件接收或者响应事件
- 组件可定义自身可接收或者响应的相关事件，可在组件根节点使用 __'.my-event'__ 进行接收处理，事件处理函数将在组件根作用域中执行。
- 外部需要向指定元素发送事件，可在外部作用域使用 __'\$emit($id.elem1,eventName,data)'__ 方法进行发送以触发组件行为,假定此元素的id属性为 __'elem1'__。

### 组件样式
- 组件样式完全遵循标准WebComponent规范，外部可直接通过CSS或者Style定义组件的外部样式
- 构建样式时，允许外部进行定制化的组件内部可选部分，通过CSS规范的 __part__ 属性进行内部定制化，外部使用者可通过CSS __::part__ 选择器进行定制化。

### 样式注入
- 可定义全局注入到组件的样式表
- 组件内部可自定义引用外部样式表

## 插槽
- 插槽的行为完全遵循标准WebComponent插槽规范，外部可直接通过插槽进行内容注入。
- 组件内部可定义多个插槽，外部可通过 __'slot'__ 属性进行指定插槽名称。
- 组件内部定义插槽时，可通过 __'::slotted'__ 选择器进行定制化。

# 实施规范

- 属性就是属性，用于定义组件行为，如非必要不要使用组件属性去改变样式，请使用标准CSS实现




